# 勤怠確認アプリ

エクセルファイルから勤怠データを読み込み、集計・分析を行うWebアプリケーションです。

## 機能

- **一覧シート**: 全従業員の勤務状況を一覧表示（2店舗兼務の場合は「神楽坂・水道橋」のように表示）
- **個人別シート**: 各従業員の1か月分の詳細データ
  - 日付ごとの労働時間
  - 休憩時間の記録
  - 法定休憩時間のチェック
  - 休憩違反がある行は薄い黄色でハイライト
- **事業別シート**: 事業所ごとの従業員データを表示
- **事業所別ダウンロード**: 各事業所ごとに個別のエクセルファイルを生成
- **休憩時間チェック**: 労働基準法に基づく法定休憩時間を自動チェック
  - 6時間以下: 休憩不要
  - 6時間超8時間以下: 45分以上必要
  - 8時間超: 1時間以上必要

## セットアップ

### ローカル環境

1. 必要なパッケージをインストール:
```bash
pip install -r requirements.txt
```

2. アプリケーションを起動:
```bash
python app.py
```

3. ブラウザで `http://localhost:5000` にアクセス

## デプロイ

### Render でのデプロイ

1. [Render](https://render.com) にアカウントを作成
2. 新しいWebサービスを作成
3. GitHubリポジトリを接続
4. 以下の設定を使用:
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn app:app`
   - **Environment**: Python 3
5. デプロイを開始

### Railway でのデプロイ

1. [Railway](https://railway.app) にアカウントを作成
2. 新しいプロジェクトを作成
3. GitHubリポジトリを接続
4. 自動的にデプロイが開始されます

### Heroku でのデプロイ

1. [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli) をインストール
2. ログイン:
```bash
heroku login
```

3. アプリを作成:
```bash
heroku create your-app-name
```

4. デプロイ:
```bash
git push heroku main
```

## 使い方

1. エクセルファイルをドラッグ&ドロップするか、フォルダ内のファイルを選択
2. 「処理を開始」ボタンをクリック
3. 処理完了後、ダウンロードリンクから結果ファイルをダウンロード
   - 全体ファイル: 全従業員・全事業所のデータ
   - 事業所別ファイル: 各事業所ごとのデータ

## エクセルファイルの形式

以下の列が必要です:
- 勤務日
- 従業員番号
- 従業員名
- 事業所名
- 出勤時刻
- 退勤時刻
- 休憩1開始時刻（任意）
- 休憩1終了時刻（任意）

## 技術スタック

- Python 3.11
- Flask 3.0.0
- openpyxl 3.1.2
- Gunicorn（本番環境用）

